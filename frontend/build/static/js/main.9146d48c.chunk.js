(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{12:function(e,t,a){e.exports={container:"dropdown_container__2MuSb",label:"dropdown_label__33c0v",error:"dropdown_error__eEh7z",dropdown:"dropdown_dropdown__3ROtb",caret:"dropdown_caret__2dvhU",list:"dropdown_list__OM9Ft"}},14:function(e,t,a){e.exports={message:"message_message__2AbUU",success:"message_success__2Azm2",error:"message_error__3Rval"}},16:function(e,t,a){e.exports={container:"input_container__QAWrV",label:"input_label__359Us",error:"input_error__3S6Ie",input:"input_input__2PZYz"}},18:function(e,t,a){e.exports={packages:"packages_packages__1e7qv",package:"packages_package__28v2U"}},19:function(e,t,a){e.exports={id:"farm_id__2xbTZ"}},27:function(e,t,a){e.exports={card:"card_card__39fDa"}},29:function(e,t,a){e.exports={background:"ecoStore_background__39S5q",card:"ecoStore_card__3aEfE",events:"ecoStore_events__3Q4I0"}},31:function(e,t,a){e.exports={container:"event_container__2nzHx"}},32:function(e,t,a){e.exports={history:"history_history__fHQjv"}},36:function(e,t,a){e.exports=a(51)},41:function(e,t,a){},42:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),o=a.n(c);a(41),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(33),i=a(11),s=(a(42),a(3)),u=a(10),d=a(9),m=a(15),f=a(4),p=function(e){var t=e.type,a=e.name,n=e.value,r=e.checked;switch(t){case"checkbox":return Object(m.a)({},a,r?n:null);case"radio":return r?Object(m.a)({},a,n):null;case"submit":return{};default:return Object(m.a)({},a,n)}},b=function(e){var t=e.onSubmit,a=e.children;return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(function(e){var t=e.querySelectorAll("input"),a={};return t.forEach((function(e){a=Object(f.a)({},a,{},p(e))})),a}(e.target))}},a)};b.defaultProps={onSubmit:function(){}};var g=b,v=a(7),E=a.n(v),h=a(16),_=a.n(h),O=function(e){var t=e.id,a=e.type,n=e.label,c=e.name,o=e.required,l=e.disabled,i=e.readOnly,s=e.placeholder,u=e.value,d=e.defaultValue,m=e.defaultChecked,f=e.description,p=e.errorMessage,b=e.className;return r.a.createElement("div",{className:E()(_.a.container,b)},r.a.createElement("input",{className:_.a.input,required:o,type:a,id:t,name:c,defaultValue:d,placeholder:s,defaultChecked:m,disabled:l,value:u,readOnly:i}),f&&r.a.createElement("div",null,f),r.a.createElement("div",{className:_.a.error},p),n&&r.a.createElement("label",{className:_.a.label,htmlFor:t},n))};O.defaultProps={type:"text"};var k=O,D=a(27),y=a.n(D),N=function(e){var t=e.children,a=e.className;return r.a.createElement("div",{className:E()(y.a.card,a)},t)},j=function(e,t,a,n,r){a(),fetch(e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return r(e)}),(function(e){return n(e)}))},I=function(e,t,a,n){t(),fetch(e,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"}).then((function(e){return e.json()})).then((function(e){return n(e)}),(function(e){return a(e)}))},S=a(28),w=new(a.n(S).a),x=function(e){return e+"-"+w.randomUUID(6)},P=function(e,t,a,n,r){a(),setTimeout((function(){return r({status:"OK - "+e})}),1500)},C=new Array(1).map((function(e){return x("S")})),F=function(e,t,a,n){return P("/api/registerFromPackageHouseToDistributionCenter",Object(f.a)({},e),t,0,(function(t){!function(e,t,a,n){P("/api/registerFromDistributionCenterToStore",Object(f.a)({},e),t,0,n)}({packageID:e.packageID,storeID:C[Math.floor(Math.random()*C.length)],dateofDelivery:"2020-02-29"},(function(){}),0,n),n(t)}))},H=function(e,t,a,n){return P("/api/registerFoodFromFarmToPackageHouse",Object(f.a)({},e),t,0,(function(r){!function e(t,a,n,r){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return P("/api/registerPackage",Object(f.a)({},t),(function(){c>1&&setTimeout((function(){return e({packageID:x("P"),batchID:t.batchID},a,n,r,c-1)}),200),a()}),0,(function(e){F({packageID:t.packageID,distributionCenterID:x("DC"),dateOfDistribution:"2020-02-25"},a,0,r),r(e)}))}({packageID:x("P"),batchID:e.batchID},t,a,n,5),n(r)}))},q=function(e,t){!function(e,t,a,n){P("/api/registerBatch",Object(f.a)({},e),t,0,(function(r){H({batchID:e.batchID,dateOfPacking:"2020-02-20",packagingHouseID:x("PH")},t,a,n),n(r)}))}(e,(function(){}),(function(e){var a=e.error;return t({error:a})}),(function(e){var a=e.status;return t({result:a})}))},M=a(14),T=a.n(M),z=function(e){var t=e.title,a=e.message,n=e.className;return r.a.createElement("div",{className:E()(T.a.message,n)},t&&r.a.createElement("h4",null,t),a&&r.a.createElement("p",null,a))},W=function(e){var t=e.title,a=e.message;return r.a.createElement(z,{className:T.a.success,title:t,message:a})},B=function(e){var t=e.title,a=e.message;return r.a.createElement(z,{className:T.a.error,title:t,message:a})},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e.loading||!1),a=Object(s.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(e.error),l=Object(s.a)(o,2),i=l[0],u=l[1],d=Object(n.useState)(e.result),m=Object(s.a)(d,2),f=m[0],p=m[1],b=Object(n.useState)(e.status),g=Object(s.a)(b,2),v=g[0],E=g[1],h=function(e){c(e.loading),u(e.error),p(e.result),E(e.status)};return[{loading:r,error:i,result:f,status:v},h]},V=a(19),A=a.n(V),Y=a(12),J=a.n(Y),Q=function(e){var t=e.id,a=e.label,c=e.name,o=e.required,l=e.disabled,i=e.elements,m=e.errorMessage,f=e.className,p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.description,a=e.value,r=Object(n.useState)(t),c=Object(s.a)(r,2),o=c[0],l=c[1],i=Object(n.useState)(a),u=Object(s.a)(i,2),d=u[0],m=u[1],f=function(e){l(e.description),m(e.value)};return Object(n.useEffect)((function(){f(e)}),[e]),[{description:o,value:d},f]}(i[0]||{}),b=Object(s.a)(p,2),g=b[0],v=g.value,h=g.description,_=b[1],O=Object(n.useState)(!1),k=Object(s.a)(O,2),D=k[0],y=k[1];return r.a.createElement("div",{className:E()(J.a.container,f)},r.a.createElement("div",{className:J.a.dropdown},r.a.createElement("button",{type:"button",id:t,disabled:l,onClick:function(){return y(!D)}},h,r.a.createElement(u.a,{icon:D?d.c:d.b,size:"2x",className:J.a.caret})),D&&r.a.createElement("div",{className:J.a.list},i.map((function(e){return r.a.createElement("button",{key:e.value,type:"button",onClick:function(){return function(e){y(!1),_(e)}(e)}},e.description)})))),r.a.createElement("input",{className:J.a.input,required:o,type:"hidden",name:c,value:v,readOnly:!0}),r.a.createElement("div",{className:J.a.error},m),a&&r.a.createElement("label",{className:J.a.label,htmlFor:t},a))};Q.defaultProps={type:"text"};var G=Q,R=function(){var e=U(),t=Object(s.a)(e,2),a=t[0],c=t[1],o=U(),l=Object(s.a)(o,2),i=l[0],m=i.loading,p=i.result,b=l[1];Object(n.useEffect)((function(){var e;e=b,I("/api/fruit/",(function(){return e({loading:!0,error:null,result:null})}),(function(t){var a=t.status,n=t.message;return e({loading:!1,error:n,result:null,status:a})}),(function(t){var a=t.status,n=t.result;return e({loading:!1,error:null,result:n,status:a})}))}),[]);var v=p?p.map((function(e){return{description:e.name,value:e.fruitID}})):[];return r.a.createElement(N,{className:A.a.farm},r.a.createElement(u.a,{icon:d.e,size:"6x"}),r.a.createElement("h1",null,"FruitFarm"),r.a.createElement(g,{onSubmit:function(e){return function(e,t){"3000"===window.location.port?q(e,t):j("/api/registerBatch",Object(f.a)({},e),(function(){return t({loading:!0,error:null,result:null})}),(function(e){var a=e.status,n=e.message;return t({loading:!1,error:n,result:null,status:a})}),(function(e){var a=e.status,n=e.result;return t({loading:!1,error:null,result:n,status:a})}))}(e,c)}},a.error&&r.a.createElement(B,{title:a.status,messsage:a.error}),a.result&&r.a.createElement(W,{title:a.status,message:a.result}),r.a.createElement(k,{className:A.a.id,id:"farmID",name:"farmID",label:"Farm-id",defaultValue:x("F"),errorMessage:"Du m\xe5 gi g\xe5rden en id.",required:!0,disabled:m}),r.a.createElement(k,{className:A.a.id,id:"batchID",name:"batchID",label:"Batch-id",defaultValue:x("B"),errorMessage:"Du m\xe5 gi batchen en id.",required:!0,disabled:m}),r.a.createElement(G,{id:"foodID",name:"foodID",label:"Food type",elements:v,required:!0,disabled:m}),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},r.a.createElement(k,{id:"lotNo1",label:"Lot",name:"lotNo",type:"radio",description:"S\xf8ndre",value:"lotSouth",disabled:m,required:!0}),r.a.createElement(k,{id:"lotNo2",name:"lotNo",type:"radio",description:"Nordre",value:"lotNorth",disabled:m}),r.a.createElement(k,{id:"lotNo3",name:"lotNo",type:"radio",description:"\xd8stre",value:"lotEast",disabled:m}),r.a.createElement(k,{id:"lotNo4",name:"lotNo",type:"radio",description:"Vestre",value:"lotWest",disabled:m})),r.a.createElement(k,{id:"dateOfHarvest",label:"Harverest date",name:"dateOfHarvest",type:"date",defaultValue:"2020-02-10",disabled:m}),r.a.createElement(k,{type:"submit",value:"Go",disabled:m})))},Z=a(29),K=a.n(Z),L=a(30),$=a.n(L),X=a(31),ee=a.n(X),te=function(e){var t=e.timestamp,a=e.description,n=e.className;return r.a.createElement("div",{className:E()(ee.a.container,n)},r.a.createElement("h3",null,$()(t).format("DD.MM.YYYY (HH:mm)")),r.a.createElement("p",null,a))},ae=function(e){var t=e.className;return r.a.createElement(u.a,{className:t,icon:d.a,size:"2x"})},ne=a(32),re=a.n(ne),ce=function(e){var t=e.events;return r.a.createElement("div",null,r.a.createElement("h2",null,"From farm to table"),r.a.createElement("p",null,"What is your FOOD's story?"),r.a.createElement("div",{className:re.a.history},t.map((function(e,t){var a=e.timestamp,c=e.description;return r.a.createElement(n.Fragment,{key:a},0!==t&&r.a.createElement(ae,null),r.a.createElement(te,{timestamp:a,description:c}))}))))},oe=a(18),le=a.n(oe),ie=function(e){var t=e.packageID,a=e.onClick;return r.a.createElement("button",{className:le.a.package,onClick:function(){return a(t)}},t)},se=function(e){var t=e.packageIDs,a=e.onClick;return t?r.a.createElement("div",{className:le.a.packages},t.map((function(e){return r.a.createElement(ie,{key:e,packageID:e,onClick:a})}))):null},ue=function(e){var t=[];return e?(e.dateOfHarvest&&t.push({timestamp:e.dateOfHarvest,description:"Batch ".concat(e.batchID," was harvested at ").concat(e.farmID," on lotNo: ").concat(e.lotNo)}),e.dateOfPackaging&&t.push({timestamp:e.dateOfPackaging,description:"Was packaged at ".concat(e.packagingHouseID)}),e.dateOfDistribution&&t.push({timestamp:e.dateOfDistribution,description:"Was distributed by ".concat(e.distributionCenterID)}),e.dateOfDelivery&&t.push({timestamp:e.dateOfDelivery,description:"Was delivered to ".concat(e.storeID)}),t):t},de=function(){var e=U(),t=Object(s.a)(e,2),a=t[0],c=t[1],o=U(),l=Object(s.a)(o,2),i=l[0],m=i.loading,f=i.error,p=i.result,b=i.status,v=l[1],E=Object(n.useState)(x("P")),h=Object(s.a)(E,2),_=h[0],O=h[1];return Object(n.useEffect)((function(){var e;e=c,I("/api/getPackages",(function(){return e({loading:!0,error:null,result:null})}),(function(t){var a=t.status,n=t.message;return e({loading:!1,error:n,result:null,status:a})}),(function(t){var a=t.status,n=t.result;return e({loading:!1,error:null,result:n,status:a})}))}),[]),r.a.createElement("div",null,r.a.createElement("header",{className:K.a.background},r.a.createElement(se,{packageIDs:a.result,onClick:O}),r.a.createElement(N,null,r.a.createElement(u.a,{icon:d.d,size:"6x"}),r.a.createElement("h1",null,"EcoStore"),r.a.createElement(g,{onSubmit:function(e){return t=e.packageID,a=v,void I("/api/getItem/".concat(t),(function(){return a({loading:!0,error:null,result:null})}),(function(e){var t=e.status,n=e.message;return a({loading:!1,error:n,result:null,status:t})}),(function(e){var t=e.status,n=e.result;return a({loading:!1,error:null,result:n,status:t})}));var t,a}},f&&r.a.createElement(B,{title:b,messsage:f}),p&&r.a.createElement(W,{title:b}),r.a.createElement(k,{id:"packageID",name:"packageID",label:"Package-Id",value:_,onChange:function(e){return O(e.target.value)},disabled:m}),r.a.createElement(k,{type:"submit",value:"Submit",disabled:m})),r.a.createElement(ce,{events:ue(p)}))))};var me=function(){return r.a.createElement("div",null,r.a.createElement("header",{className:"background"},r.a.createElement(l.a,null,r.a.createElement(i.a,{path:"/fruitfarm"},r.a.createElement(R,null)),r.a.createElement(i.a,{path:"/ecostore"},r.a.createElement(de,null)))))};o.a.render(r.a.createElement(me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.9146d48c.chunk.js.map